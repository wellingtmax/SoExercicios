<div class="admin-container">
  <header class="admin-header">
    <h1>Ãrea Administrativa</h1>
    <button class="btn-logout" (click)="logout()">Sair</button>
  </header>

  <div class="admin-content">
    <div class="user-info" *ngIf="user">
      <h2>InformaÃ§Ãµes do UsuÃ¡rio</h2>
      <p><strong>ID:</strong> {{ user.userId }}</p>
      <p><strong>Perfil:</strong> {{ user.perfil }}</p>
    </div>

    <div class="protected-data">
      <h2>Dados da Rota Protegida</h2>
      <div *ngIf="loading" class="loading">Carregando...</div>
      <div *ngIf="!loading && protectedData" class="data-box">
        <p><strong>Mensagem:</strong> {{ protectedData.message }}</p>
        <div *ngIf="protectedData.user">
          <h3>ğŸ” Como a Senha vira um Token JWT</h3>
          <div class="token-explanation">
            <div class="step">
              <h4>1ï¸âƒ£ Dados do UsuÃ¡rio Decodificados:</h4>
              <p>Estes sÃ£o os dados que estavam <strong>dentro</strong> do token JWT:</p>
              <pre class="user-data">{{ protectedData.user | json }}</pre>
            </div>

            <div class="step">
              <h4>2ï¸âƒ£ Processo de AutenticaÃ§Ã£o:</h4>
              <p>ğŸ”¹ <strong>Login:</strong> VocÃª digitou sua senha</p>
              <p>ğŸ”¹ <strong>VerificaÃ§Ã£o:</strong> Servidor comparou com senha criptografada (bcrypt)</p>
              <p>ğŸ”¹ <strong>GeraÃ§Ã£o:</strong> Se vÃ¡lida, criou este token JWT</p>
              <p>ğŸ”¹ <strong>Armazenamento:</strong> Token salvo no localStorage do navegador</p>
              <p>ğŸ”¹ <strong>Uso:</strong> Token enviado automaticamente em cada requisiÃ§Ã£o</p>
            </div>

            <div class="step" *ngIf="protectedData.token">
              <h4>3ï¸âƒ£ Token JWT Completo:</h4>
              <p>Este Ã© o token real que estÃ¡ sendo usado para autenticar vocÃª:</p>
              <pre class="token-data">{{ protectedData.token }}</pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn-primary" (click)="loadProtectedData()">
        Recarregar Dados
      </button>
    </div>
  </div>
</div>
